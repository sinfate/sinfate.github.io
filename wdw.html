<!DOCTYPE html>
<html lang="ch">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <!-- meta使用viewport以确保页面可自由缩放 -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- 引入 jQuery 库 -->
    <script src="https://cdn.staticfile.org/jquery/3.0.0/jquery.js"></script>
    <link rel="stylesheet" href="css/index.css">
    <link rel="stylesheet" href="css/wsw.css">
    <link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.css">
</head>

<body>
    <div class="top-box">
        <a href="dizhi.html"><i class="fa fa-map-marker" aria-hidden="true"></i> 地址未找到 <i
                class="fa fa-caret-down"></i></a>
    </div>
    <div class="serch">
        <a href="search.html"><button class="serchbtn"><i class="fa fa-search"></i> 搜索美团商家、商品名称</button></a>
    </div>
    <div class="wdw">
        <div class="find">
            <img src="img/dizhi.gif" alt="">
        </div>
        <h3>输入地址后才能订餐哦！</h3>
        <a href="dizhi.html">手动选择地址</a>
    </div>
    <div class="barrager">
            <div><span>我是一个处女座</span></div>
            <div><span>我愚蠢的偶豆豆哟</span></div>
            <div><span>华哥最帅</span></div>
            <div><span>龙神看到你了</span></div>
            <div><span>龙神！赐予我力量</span></div>
            <div><span>やめて</span></div>
            <div><span>仓鼠综合症</span></div>
            <div><span>龙刃开……额~啊~</span></div>
            <div><span>简单的几何学</span></div>
            <div><span>给你激素了，快上</span></div>
            <div><span>Огонь по ~готовности！</span></div>
            <div><span>阿梅里</span></div>
            <div><span>板囧</span></div>
            <div><span>吼拉</span></div>
            <div><span>格瑞听</span></div>
            <div><span>你好</span></div>
            <div><span>在山的那边海的那边有群蓝精灵</span></div>
            <div><span>你的益达！不，这是你的益达~</span></div>
            <div><span>玉莲绽放，花开不败</span></div>
            <div><span>圣光背叛了我</span></div>
            <div><span>(｡･∀･)ﾉﾞ嗨~多欧墨</span></div>
            <div><span>头发去哪儿了</span></div>
            <div><span>处女座特有的精神洁癖是假的</span></div>
            <div><span>开门，查水表了</span></div>
            <div><span>开门，社区送温暖</span></div>
            <div><span>前方高能</span></div>
            <div><span>spi-562</span></div>
            <div><span>〈（_　_）〉</span></div>
            <div><span>(　′o`)</span></div>
            <div><span>(/≧▽≦)/~</span></div>
        </div>
    <div class="bottomnav">
        <div class="bottomicon">
            <a href="">
                <i class="fa fa-edge" aria-hidden="true"></i>
                <span>首页</span>
            </a>
        </div>
        <div class="bottomicon">
            <a href="">
                <i class="fa fa-search" aria-hidden="true"></i>
                <span>发现</span>
            </a>
        </div>
        <div class="bottomicon">
            <a href="">
                <i class="fa fa-building-o" aria-hidden="true"></i>
                <a href="dd.html"><span>订单</span></a>
            </a>
        </div>
        <div class="bottomicon">
            <a href="">
                <i class="fa fa-user-o" aria-hidden="true"></i>
                <span>我的</span>
            </a>
        </div>
    </div>
    <script>
        $(document).scroll(function () {
            var scrolH = $(document).scrollTop();
            var top = $('.serch');
            var tpbox = $('.top-box');
            // console.log(scrolH);
            if (scrolH > 199) {
                top.addClass('topfixed');
                tpbox.addClass('tbottom');
            } else {
                top.removeClass('topfixed');
                tpbox.removeClass('tbottom');
            }
        })

        $(function () {
            $(".barrager").barrager()
        });
        (function () {
            var Barrager = function (ele, options) {
                var defaults = {
                    color: ["#ff9999", "#35d2f4", "#9ee353", "#9d77ff", "#4785d9", "#ff9333", "#5bdea8", "#51befc"],
                    wrap: ele
                };
                this.settings = $.extend({}, defaults, options || {});
                this._init();
                this.bindEven();
            };
            Barrager.prototype = {
                _init: function () {
                    var item = $(this.settings.wrap).find("div");
                    for (var i = 0; i < item.length; i++) {
                        item.eq(i).css({
                            top: this.getReandomTop() + "px",
                            color: this.getReandomColor(),
                            fontSize: this.getReandomSize() + "px"
                        });
                        item.eq(i).css({
                            right: -item.eq(i).width()
                        })
                    }
                    this.randomTime(0);
                },
                bindEven: function () {
                    var _this = this;
                    $(".addBarrager .submit").on('click', function () {
                        _this._click(_this);
                    });
                },
                getReandomColor: function () {
                    var max = this.settings.color.length;
                    var randomNum = Math.floor(Math.random() * max);
                    return this.settings.color[randomNum];
                },
                getReandomTop: function () {
                    var top = (Math.random() * 450).toFixed(1);
                    return top;
                },
                getReandomSize: function () {
                    var size = (12 + Math.random() * 28);
                    return size;
                },
                getReandomTime: function () {
                    var time = Math.floor((8 + Math.random() * 10));
                    return time * 1000;
                },
                randomTime: function (n) {
                    var obj = $(this.settings.wrap).find("div");
                    var _this = this;
                    var len = obj.length;
                    if (n >= len) {
                        n = 0;
                    }
                    setTimeout(function () {
                        n++;
                        _this.randomTime(n)
                    }, 1000);
                    var item = obj.eq(n), _w = item.outerWidth(!0);
                    item.animate({
                        left: -_w
                    }, _this.getReandomTime(), "linear", function () {
                        item.css({ right: -_w, left: "" });
                        _this.randomTime(n)
                    });
                },
                _click: function (obj) {
                    var _this = obj;
                    var _val = $(".barVal");
                    if (_val.val() == "") {
                        alert("请描述你对TA的印象！");
                        return false;
                    }
                    $(_this.settings.wrap).append("<div><span class='new'>" + _val.val() + "</span></div>");
                    _this._init();
                    _val.val("");
                }
            };
            $.fn.barrager = function (opt) {
                var bger = new Barrager(this, opt);
            }
        })(jQuery);
    </script>
</body>

</html>